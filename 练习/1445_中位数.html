
<script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
Welcome to XTU OnlineJudge</title>
<link rel='stylesheet' type='text/css' href='/exam/Web/Tpl/default/Public/Css/style_user.css' />
<link rel="stylesheet" href="/markdown.css" type="text/css" />
<link rel="stylesheet" href="/md_back.css" type="text/css" />
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
          tex2jax: {
            inlineMath: [ ['$','$'], ["\\(","\\)"] ],
            displayMath: [ ['$$', '$$'], ["\\[", "\\]"] ],
            processEscapes: true
          },
          TeX: {
            equationNumbers: {
              autoNumber: 'AMS'
            }
          },
          "HTML-CSS": {
            imageFont: null
          }
        });
  </script>
  <script type="text/javascript" src="/MathJax/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

</style>
</head>
<body>

  <div id="header"> 
    <div id="xtu_logo"><img src="/exam/Web/Tpl/default/Public/Images/xtu_logo.jpg" alt="XiangTan University" /></div>
    <div id="xtu">XiangTan&nbsp;&nbsp;University<br />
    OnlineJudge&nbsp;&nbsp;For&nbsp;&nbsp;Programming</div>
    <div id="acm_logo"><img src="/exam/Web/Tpl/default/Public/Images/acm_small.jpg" alt="ACM/ICPC" /></div>
  </div>
  <div class="hr"></div>
  <div id="menu">
  	<div>
    <table width="100%" border="0">
      <tr class="menu_title">
        <td><a href="/exam/index.php">Home Page</a></td>
        <td><a href="/exam/index.php/problem">ALL Problems</a></td>
        <td><a href="/exam/index.php/solution/submit">Submit Source Code</a></td>
        <td><a href="/exam/index.php/solution/onlinestatus">Online Status</a></td>
        <td><a href="/exam/index.php/news">F.A.Qs &amp; Help</a></td>
      </tr>
      <tr class="menu_title">
        <td><a href="/exam/index.php/exam/current">Current Exams</a></td>
        <td><a href="/exam/index.php/exam/past">Past Exams</a></td>
        <td>Scheduled Exams</td>
        <td><a href="/exam/index.php/user/ranklist">User Ranklist</a></td>
        <td><a href="http://202.197.224.59/qa/" target="_blank"> Discusss </a></td>
      </tr>     
    </table>
	</div>
	<div class="hr"></div>
    <div id="menu_left">
		  
	<table width="100%" border="0">
	  <form action="" method="post" name="login">
	  		<input name="crsf_token" type="hidden" id="crsf_token" value="7fb8c0d0edfed8a602fd07b26cd76faa"/>
        <tr>
          <td>&nbsp;&nbsp;StudentID:</td>
          <td><input name="username" type="text" id="username" tabindex="1" size="8" />
          <input name="capture" type="hidden" id="capture" value="login" /></td>
          <td>&nbsp;&nbsp;<a href="/exam/index.php/user/register">Create New Account </a></td>
        </tr>
        <tr>
          <td>&nbsp;&nbsp;Password:</td>
          <td><input name="password" type="password" id="password" tabindex="2" size="8" />
          <input type="submit" name="Submit" value="Login" tabindex="3" /></td>
          <td>&nbsp;&nbsp;<a href="/exam/index.php/user/remind">Forgot Your Password or Username</a></td>
        </tr>
	  </form>
      </table>    </div>
    <div id="menu_right">
      <table width="100%" border="0">
	  <form action="" method="post" name="gotoproblem">
	  	<input name="crsf_token" type="hidden" id="crsf_token" value="3b15ae7f102c566662697b24dce27a55"/>        <tr>
          <td align="right">ProblemID:</td>
          <td><input name="problem_id" type="text" id="problem_id" tabindex="11" size="8" />
            <input type="submit" name="Submit2" value="Go Problem" tabindex="12" />
            <input name="capture" type="hidden" id="capture" value="goproblem" /></td>
        </tr>
	  </form>
	  <form action="" method="post" name="searchuser">
	  	<input name="crsf_token" type="hidden" id="crsf_token" value="65574bc6bb6f8720f04ec949badc65c3"/>        <tr>
          <td align="right">User Name:</td>
          <td><input name="username" type="text" id="username" tabindex="21" size="8" />
            <input type="submit" name="Submit3" value="SearchUser" tabindex="22" />
            <input name="capture" type="hidden" id="capture" value="searchuser" /></td>
        </tr>
	  </form>
      </table>
    </div>
  </div>
  <div id="news">
  	<MARQUEE scrollAmount=3 scrollDelay=150 behavior=alternate><p><font color="#0000ff"><strong>公告</strong></font>:&nbsp; <font style="background-color: rgb(255,255,255)" color="#000000"><font style="background-color: rgb(255,255,255)"><strong>支持Java，请使用Main类内含静态main方法</strong>。64位整数可以使用%I64d。</font></font></p>
<p><font color="#339966"><strong>程序设计实践考试安排请询问教务干事老师，CSP成绩换算问题请询问王婷老师</strong></font></p>
<p><strong><font color="#339966"><font color="#FF0000"><a href="/exam/index.php/solution/stat/cids/409,410,411,412,413,414,415,416,417,418,419,420,421,422,423,424,425,426,427,428,429,430">2023年C语言作业统计</a>  入队第一步，AK作业题，<a href="http://202.197.224.59/bm/">招新宣传点这 </a><a href="https://v.qq.com/x/page/v0812dpjirs.html">湘潭大学ACM/ICPC金牌团队</a></font></font></strong></p>
<p>密码重置或新增账号，点<a href="https://www.wenjuan.com/s/QvQZfui/">这里</a>登记，管理员不定期操作</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><strong><font color="#339966"><font color="#FF0000"> </font></font></strong></p>
<p>&nbsp;</p></MARQUEE>
  </div>
  <div class="hr"></div>
<div id="content">
  <div>
  <table width="100%" border="0">
  <tr align="center">
    <td colspan="3"><h2>中位数</h2></td>
  </tr>
  <tr align="center">
    <td colspan="3">[ <a href="/exam/index.php/solution/submit/id/1445/exam_id/457">Submit Code</a> ]
    	[ <a href="/exam/index.php/solution/top20/pid/1445">Top 20 Runs</a> ]
    	[ <a href="/exam/index.php/solution/onlinestatus/exam_id/457/problem_id/1445">Runs Status</a> ]
    	</td>
  </tr>
  <tr align="center">
    <td width="49%" align="right">Acceteped : 232 </td>
    <td width="2%">&nbsp;</td>
    <td width="49%" align="left"> Submit : 408 </td>
  </tr>
  <tr align="center">
    <td align="right">Time Limit : 1000 MS</td>
    <td>&nbsp;</td>
    <td align="left">Memory Limit : 65536 KB</td>
  </tr>
  <tr>
    <td colspan="3">&nbsp;</td>
  </tr>
  <tr>
    <td colspan="3"><h3>Description</h3></td>
  </tr>
  
  <tr>
    <td colspan="3"><div><article class="markdown-body"><h1 id="_1">中位数<a class="headerlink" href="#_1" title="Permanent link"></a></h1>
<h2 id="_2">题目描述<a class="headerlink" href="#_2" title="Permanent link"></a></h2>
<p>一个数的序列<span class="arithmatex">\(A = \{a_0,a_1,\cdots,a_{n-1}\}\)</span> 是一个排列，如果对<span class="arithmatex">\(A\)</span>按数值从小到大排序，得到序列<span class="arithmatex">\(B=\{b_0,b_1,\cdots,b_{n-}\}\)</span>，那么<span class="arithmatex">\(b_{\lfloor\frac{n}{2}\rfloor}\)</span>称为序列<span class="arithmatex">\(A\)</span>的中位数。</p>
<p>对于数列<span class="arithmatex">\(A\)</span>，假设其中位数为<span class="arithmatex">\(a_k\)</span>，一般地，我们可以按中位数，把原序列分为左部序列，中位数，右部序列，即
<span class="arithmatex">\(A_{left}=\{a_0,\cdots,a_{k-1}\},~a_k,~A_{right}=\{a_{k+1},\cdots,a_{n-1}\}\)</span>。
对于左、右部序列我们又可以重复这个过程，直到左右部不存在为止。</p>
<p>我们第一轮找到的中位数权值为<span class="arithmatex">\(1\)</span>。如果上一轮找到的中位数的权值为<span class="arithmatex">\(m\)</span>，那么其左右部序列的中位数权值为<span class="arithmatex">\(m+1\)</span>。</p>
<p>我们想求
$$
\sum_{i=0}^{n-1} a_i \cdot w_i
$$</p>
<p>其中，<span class="arithmatex">\(w_i\)</span>为序列中各数的权值。</p>
<p>比如序列为<span class="arithmatex">\(\{5,2,1,3,4\}\)</span>，那么其中位数为<span class="arithmatex">\(3\)</span>，左部序列为<span class="arithmatex">\(\{5,2,1\}\)</span>,右部序列为<span class="arithmatex">\(\{4\}\)</span>，所以<span class="arithmatex">\(3\)</span>的权值为<span class="arithmatex">\(1\)</span>;<br>
序列<span class="arithmatex">\(\{5,2,1\}\)</span>的中位数为<span class="arithmatex">\(2\)</span>，所以<span class="arithmatex">\(2\)</span>的权值为<span class="arithmatex">\(2\)</span>，其左右部序列分别为<span class="arithmatex">\(\{5\}\)</span>和<span class="arithmatex">\(\{1\}\)</span>；<span class="arithmatex">\(4\)</span>的权值为<span class="arithmatex">\(2\)</span>;<br>
<span class="arithmatex">\(5\)</span>和<span class="arithmatex">\(2\)</span>的权值都为<span class="arithmatex">\(3\)</span>。所以结果为<span class="arithmatex">\(5\cdot 3 + 2\cdot 2 + 1 \cdot 3 + 3\cdot 1 + 4 \cdot 2 = 33\)</span>。</p>
<h2 id="_3">输入格式<a class="headerlink" href="#_3" title="Permanent link"></a></h2>
<p>第一行是一个整数<span class="arithmatex">\(T (1\le T\le 100)\)</span>，表示样例的个数。</p>
<p>每个样例的第一行是一个整数<span class="arithmatex">\(n~(1\le n \le 1000)\)</span>，表示初始序列的大小。
第二行是<span class="arithmatex">\(n\)</span>个正整数<span class="arithmatex">\(a_i, 1 \le a_i \le n\)</span>，是一个排列。</p>
<h2 id="_4">输出格式<a class="headerlink" href="#_4" title="Permanent link"></a></h2>
<p>依次每行输出一个样例的结果，为一个整数</p>
<h2 id="_5">样例输入<a class="headerlink" href="#_5" title="Permanent link"></a></h2>
<div class="highlight"><pre>5
1
1
2
1 2
5
5 2 1 3 4
5
1 5 2 4 3
5
3 4 2 5 1
</pre></div>

<h2 id="_6">样例输出<a class="headerlink" href="#_6" title="Permanent link"></a></h2>
<div class="highlight"><pre>1
4
33
42
42
</pre></div></article></div></td>
  </tr>
  <tr>
    <td colspan="3">&nbsp;</td>
  </tr>
  <tr>
    <td colspan="3"><h3>Sample Input </h3></td>
  </tr>
  
  <tr>
    <td colspan="3"><pre></pre></td>
  </tr>
  
  <tr>
    <td colspan="3">&nbsp;</td>
  </tr>
  <tr>
    <td colspan="3"><h3>Sample Output </h3></td>
  </tr>
  
  <tr>
    <td colspan="3"><pre></pre></td>
  </tr>
  <tr>
    <td colspan="3">&nbsp;</td>
  </tr>
  <tr>
    <td colspan="3"><h3>Source</h3></td>
  </tr>
  <tr>
    <td colspan="3"></td>
  </tr>
  <tr>
    <td colspan="3">&nbsp;</td>
  </tr>
		  <tr align="center">
 
    <td colspan="3">[ <a href="/exam/index.php/solution/submit/id/1445/exam_id/457">Submit Code</a> ]
    	[ <a href="/exam/index.php/solution/top20/pid/1445">Top 20 Runs</a> ]
    	[ <a href="/exam/index.php/solution/onlinestatus/exam_id/457/problem_id/1445">Runs Status</a> ]
    	</td>
  </tr>
</table>
  </div>

</div>
  
  <div class="hr"></div>
  <div id="footer_menu">[ <a href="/exam/index.php">Home Page</a> ]&nbsp;&nbsp;[ <A HREF="javascript:self.location=document.referrer">Go Back</A> ]</div>
  <div class="hr"></div>
  <div id="footer">&copy;2008 XTU OnlineJudge Powered by XieBin, HuKun</div>
</body>
</html>